<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fish.cloud.repo.ShopMapper">

	<!-- 通用查询映射结果 -->
	<resultMap id="BaseResultMap" type="com.fish.cloud.bean.model.Shop">
		<id column="shop_id" property="shopId" />
		<result column="shop_name" property="shopName" />
		<result column="shop_type" property="shopType" />
		<result column="industry" property="industry" />
		<result column="brief" property="brief" />
		<result column="notice" property="notice" />
		<result column="img" property="img" />
		<result column="owner_id" property="ownerId" />
		<result column="mobile" property="mobile" />
		<result column="tel" property="tel" />
		<result column="lat" property="lat" />
		<result column="lng" property="lng" />
		<result column="pca_code" property="pcaCode" />
		<result column="pca_name" property="pcaName" />
		<result column="address" property="address" />
		<result column="open_time" property="openTime" />
		<result column="close_time" property="closeTime" />
		<result column="free_dvy" property="freeDvy" />
		<result column="free_go" property="freeGo" />
		<result column="status" property="status" />
		<result column="create_time" property="createTime" />
		<result column="update_time" property="updateTime" />
	</resultMap>

	<resultMap id="shopDtoMap" type="com.fish.cloud.bean.dto.ShopDto">
		<result column="shop_id" property="shopId" />
		<result column="shop_name" property="shopName" />
		<result column="shop_type" property="shopType" />
		<result column="industry" property="industry" />
		<result column="brief" property="brief" />
		<result column="notice" property="notice" />
		<result column="img" property="img" />
		<result column="tel" property="tel" />
		<result column="lat" property="lat" />
		<result column="lng" property="lng" />
		<result column="pca_code" property="pcaCode" />
		<result column="pca_name" property="pcaName" />
		<result column="address" property="address" />
		<result column="open_time" property="openTime" />
		<result column="close_time" property="closeTime" />
		<result column="free_dvy" property="freeDvy" />
		<result column="free_go" property="freeGo" />
		<result column="status" property="status" />
		<result column="create_time" property="createTime" />
	</resultMap>

	<sql id="shopDto_SQL">
        s.`shop_id`,
        s.`shop_name`,
        s.`shop_type`,
        s.`industry`,
        s.`brief`,
        s.`notice`,
        s.`img`,
        s.`tel`,
        s.`lat`,
        s.`lng`,
        s.`pca_code`,
        s.`pca_name`,
        s.`address`,
        s.`open_time`,
        s.`close_time`,
        s.`free_dvy`,
        s.`free_go`,
        s.`status`,
        s.`create_time`
    </sql>

	<!--详情	-->
	<select id="detail" resultMap="shopDtoMap">
		SELECT <include refid="shopDto_SQL"/>
		FROM cloud_shop s
		WHERE s.`shop_id` = #{id} AND (s.`status`= 1 OR s.`status`= 0)
	</select>

</mapper>
